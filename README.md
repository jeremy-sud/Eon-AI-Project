# üåå Proyecto E√≥n

> **A.E.O.N.** - Arquitectura Emergente y Optimizaci√≥n Neurom√≥rfica

[![Versi√≥n](https://img.shields.io/badge/Versi√≥n-1.7.2-brightgreen)]()
[![Fase](https://img.shields.io/badge/Fase-10%20Completa-success)]()
[![Tests](https://img.shields.io/badge/Tests-19%20passing-green)]()
[![Docker](https://img.shields.io/badge/Docker-Full%20Stack-blue)]()
[![Python](https://img.shields.io/badge/Python-3.8+-blue)]()
[![C](https://img.shields.io/badge/C-1.3KB-orange)]()
[![JavaScript](https://img.shields.io/badge/JS-Browser-yellow)]()
[![Arduino](https://img.shields.io/badge/Arduino-Compatible-teal)]()
[![ESP32](https://img.shields.io/badge/ESP32-LoRa-red)]()
[![MQTT](https://img.shields.io/badge/MQTT-Mosquitto-orange)]()
[![WebSocket](https://img.shields.io/badge/WebSocket-Bridge-blue)]()
[![OpenAPI](https://img.shields.io/badge/OpenAPI-3.1-green)]()
[![Paper](https://img.shields.io/badge/Paper-PDF-red)]()
[![Licencia](https://img.shields.io/badge/Licencia-MIT-green)]()

---

## üß† Filosof√≠a

> _"La inteligencia no se crea, se descubre."_

E√≥n demuestra que la inteligencia puede emerger de **recursos m√≠nimos**. Mientras GPT-4 usa ~1.7 trillones de par√°metros, E√≥n opera con **1.3KB de memoria**.

### üìä La Narrativa de la Eficiencia

| Componente | Memoria | Contexto |
|------------|---------|----------|
| **Motor Neural (C)** | **1.3 KB** | Eficiencia pura para IoT |
| **Full-Stack Web** | **79.69 KB** | Chat + Aprendizaje Continuo |

> *"El Proyecto E√≥n est√° tan optimizado que su motor neural solo necesita 1.3 KB. A√∫n m√°s impresionante, logramos construir una interfaz de chat web completamente funcional con Aprendizaje Continuo por el costo total de solo **79.69 KB** de memoria. Es el costo de accesibilidad m√°s bajo del mercado."*

- **1.3 KB**: El valor de la eficiencia pura en la misi√≥n IoT
- **79.69 KB**: El costo de accesibilidad y prueba de concepto multi-plataforma

**Ambos n√∫meros son impresionantes en su contexto.**

## ‚ú® Caracter√≠sticas

| Caracter√≠stica              | Descripci√≥n                                 |
| --------------------------- | ------------------------------------------- |
| **Ultraligero**             | N√∫cleo C de 1.3KB de memoria                |
| **Multi-plataforma**        | Python, C, JavaScript, Arduino, ESP32       |
| **Reservoir Computing**     | Echo State Networks eficientes              |
| **Aprendizaje Continuo**    | Online Learning + Memoria a largo plazo     |
| **Mente Colectiva**         | Protocolo 1-Bit Ultraligero (11.8x compresi√≥n) |
| **MQTT Real**               | Cliente paho-mqtt para brokers reales       |
| **ESP32 + LoRa**            | Transmisi√≥n inal√°mbrica P2P                 |
| **Dashboard de Monitoreo**  | Visualizaci√≥n de red en tiempo real         |
| **TinyLMv2**                | Modelo de lenguaje word-level               |
| **RAG Ligero**              | B√∫squeda sem√°ntica en documentaci√≥n         |
| **Memoria Factual**         | Timestamps para resolver ambig√ºedades      |
| **Alimentaci√≥n Continua**   | Series clim√°ticas con cambios bruscos      |
| **Sistema de Feedback**     | Mejora con retroalimentaci√≥n üëç/üëé           |
| **Chat Avanzado**           | 20+ categor√≠as de intenci√≥n + memoria personal |
| **Predicci√≥n de Secuencias**| Aritm√©tico, geom√©trico, Fibonacci, potencias |
| **Arte Generativo**         | 5 estilos (fractal, flow, particles, waves, neural) |

## üìä Comparativa

| Modelo | Memoria | Factor vs E√≥n Core |
|--------|---------|---------------------|
| GPT-2 Small | 500 MB | 384,615√ó |
| BERT Tiny | 16 MB | 12,307√ó |
| TensorFlow Lite (m√≠nimo) | ~100 KB | 77√ó |
| **E√≥n Full-Stack** | **79.69 KB** | **61√ó** |
| **E√≥n Core (C)** | **1.3 KB** | **1√ó** |

> *E√≥n Full-Stack incluye: Chat Web + Aprendizaje Continuo + Arte Generativo + TinyLM*

## üìÅ Estructura

```
E√≥n Project AI/
‚îú‚îÄ‚îÄ GENESIS.json                    # Momento Cero (inmutable)
‚îú‚îÄ‚îÄ docker-compose.yml              # üÜï Full-stack deployment (6 servicios)
‚îú‚îÄ‚îÄ start_demo.sh                   # üÜï Script lanzador del stack
‚îú‚îÄ‚îÄ benchmark_full.py               # Benchmark Integral v2.0
‚îÇ
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ WHITEPAPER.md               # Paper t√©cnico
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md             # Arquitectura del sistema
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ protocol_1bit.yaml      # üÜï Especificaci√≥n OpenAPI 3.1
‚îÇ
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îî‚îÄ‚îÄ mosquitto/config/           # üÜï Configuraci√≥n MQTT
‚îÇ
‚îú‚îÄ‚îÄ paper/
‚îÇ   ‚îú‚îÄ‚îÄ main.tex                    # Paper LaTeX
‚îÇ   ‚îî‚îÄ‚îÄ main.pdf                    # üÜï Paper compilado (3 p√°ginas)
‚îÇ
‚îú‚îÄ‚îÄ phase1-foundations/             # Python ESN + Core
‚îú‚îÄ‚îÄ phase2-core/                    # C Ultraligero + Dockerfile
‚îú‚îÄ‚îÄ phase3-integration/             # JavaScript Web (core)
‚îú‚îÄ‚îÄ phase4-hardware/                # Arduino + ESP32 + LoRa
‚îú‚îÄ‚îÄ phase5-applications/            # IoT: Bio, Voice, Temperature
‚îú‚îÄ‚îÄ phase6-collective/              # Mente Colectiva
‚îÇ   ‚îú‚îÄ‚îÄ ws_bridge.py                # WebSocket-MQTT bridge
‚îÇ   ‚îú‚îÄ‚îÄ mqtt_client.py              # Cliente MQTT real
‚îÇ   ‚îú‚îÄ‚îÄ collective_mind.py          # Simulaci√≥n distribuida
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                  # Container collective
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.bridge           # üÜï Container WebSocket
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ       ‚îî‚îÄ‚îÄ test_ws_bridge.py       # üÜï 19 tests unitarios
‚îÇ
‚îú‚îÄ‚îÄ phase7-language/                # TinyLMv2 (word-level)
‚îú‚îÄ‚îÄ phase8-paper/                   # Paper LaTeX original
‚îÇ
‚îî‚îÄ‚îÄ web/                            # Servidor Web Principal
    ‚îú‚îÄ‚îÄ server.py                   # API REST Flask (~2300 l√≠neas)
    ‚îú‚îÄ‚îÄ learning.py                 # Sistema de Aprendizaje Continuo
    ‚îú‚îÄ‚îÄ Dockerfile                  # üÜï Container web
    ‚îî‚îÄ‚îÄ static/                     # Frontend
```

## üöÄ Inicio R√°pido

### üê≥ Docker (Recomendado)

```bash
cd "E√≥n Project AI"

# Iniciar todo el stack
docker compose up -d

# Servicios disponibles:
#   - Dashboard:     http://localhost:5000
#   - TinyLM:        http://localhost:5001
#   - WebSocket:     ws://localhost:8765
#   - MQTT Broker:   localhost:1883

# Ver logs
docker compose logs -f

# Detener
docker compose down
```

### Script de Demo (Local)

```bash
./start_demo.sh              # Lanza MQTT, WebSocket, Web
./start_demo.sh --docker     # Usa Docker Compose
./start_demo.sh --no-browser # Sin abrir navegador
```

### Interfaz Web Principal (Manual)

```bash
cd "E√≥n Project AI"
python -m venv .venv && source .venv/bin/activate
pip install flask numpy pillow paho-mqtt websockets
python web/server.py
# Abrir http://localhost:5000
```

La interfaz web incluye:
- **Chat**: Conversaci√≥n con E√≥n usando TinyLMv2
- **Dream**: Visualizaci√≥n del reservorio neuronal
- **Estado**: Estad√≠sticas y configuraci√≥n de IA

### API Endpoints Disponibles

| Endpoint | M√©todo | Descripci√≥n |
|----------|--------|-------------|
| `/api/status` | GET | Estado actual de E√≥n |
| `/api/chat` | POST | Enviar mensaje al chat |
| `/api/generate-image` | POST | Generar arte neuronal (5 estilos) |
| `/api/config` | GET/POST | Configuraci√≥n de IA |
| `/api/stats` | GET | Estad√≠sticas de uso |
| `/api/history` | GET/DELETE | Historial de chat |
| `/api/personality` | GET/POST | Configuraci√≥n de personalidad |
| `/api/upload` | POST | Subir archivo para aprendizaje |
| `/api/learn-text` | POST | Aprender de texto |
| `/api/genesis` | GET | Info del Momento Cero |
| `/api/lm-status` | GET | Estado de TinyLMv2 |
| `/api/feedback` | POST | Enviar feedback üëç/üëé |
| `/api/learning-stats` | GET | Estad√≠sticas de aprendizaje |
| `/api/memory` | GET/DELETE | Gesti√≥n de memoria a largo plazo |
| `/api/consolidate` | POST | Forzar consolidaci√≥n ("sue√±o") |

### Demo Python

```bash
cd phase1-foundations/python
python -m venv .venv && source .venv/bin/activate
pip install numpy flask
python esn/esn.py
```

### Demo C (1.3KB)

```bash
cd phase2-core/libAeon
make && ./aeon_demo
# O usando CMake:
# mkdir -p build && cd build
# cmake .. && make && ./aeon_demo
```

### Demo Web Est√°tica

```bash
cd phase3-integration/demos
python3 -m http.server 8888
# Abrir http://localhost:8888
```

### üì° Demo MQTT Real

```bash
# Instalar Mosquitto (broker)
sudo apt install mosquitto mosquitto-clients

# Instalar cliente Python
pip install paho-mqtt

# Iniciar cliente E√≥n
cd phase6-collective
python mqtt_client.py --broker localhost --port 1883 --node-id sensor-001

# En otra terminal, otro nodo:
python mqtt_client.py --broker localhost --port 1883 --node-id sensor-002

# Comandos disponibles: sync, status, quit
```

### üìä Dashboard de Monitoreo (Full-Stack)

El sistema de monitoreo incluye 3 componentes:

```bash
# 1. Iniciar Mosquitto MQTT Broker
sudo systemctl start mosquitto

# 2. Iniciar WebSocket Bridge (conecta MQTT con Dashboard)
cd phase6-collective
python ws_bridge.py --mqtt-broker localhost --ws-port 8765

# 3. Servir Dashboard HTML
python3 -m http.server 8888
# Abrir http://localhost:8888/dashboard.html
```

**Modo Simulaci√≥n (sin broker MQTT):**
```bash
python ws_bridge.py --simulate --ws-port 8765
```

**Arquitectura Full-Stack:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ESP32/     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Mosquitto   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  ws_bridge   ‚îÇ
‚îÇ   Sensors    ‚îÇMQTT ‚îÇ    Broker    ‚îÇ     ‚îÇ   (Python)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                 ‚îÇ WebSocket
                                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                           ‚îÇ Dashboard ‚îÇ
                                           ‚îÇ  (HTML)   ‚îÇ
                                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

El dashboard muestra:
- Topolog√≠a de red con animaciones
- Lista de nodos y estado en tiempo real
- M√©tricas del Protocolo 1-Bit (compresi√≥n, precisi√≥n, latencia)
- Log de sincronizaci√≥n en vivo
- Conexi√≥n WebSocket autom√°tica con reconexi√≥n

### üìª Demo ESP32 + LoRa

1. Abrir `phase4-hardware/esp32/examples/LoRa_1Bit_Demo.ino` en Arduino IDE
2. Instalar librer√≠as: LoRa by Sandeep Mistry, ArduinoJson
3. Configurar pines seg√∫n tu placa (TTGO LoRa32, Heltec, etc.)
4. Subir a dos o m√°s ESP32
5. Observar sincronizaci√≥n autom√°tica en Serial Monitor

### üì° Tests de Campo ESP32

**Test de Alcance LoRa:**
```
1. Subir LoRa_RangeTest.ino a ambos ESP32
2. Serial Monitor: escribir 'tx' en uno, 'rx' en otro
3. Alejar dispositivos y observar RSSI/SNR
4. Escribir 's' para ver estad√≠sticas
```

**M√©tricas de Energ√≠a:**
| M√©trica | 1-Bit | JSON | Mejora |
|---------|-------|------|--------|
| Tama√±o paquete | 21 B | 175 B | 8.3√ó |
| Tiempo de aire | 51 ms | 132 ms | 2.6√ó |
| Energ√≠a por TX | 4.3 mJ | 11.2 mJ | 2.6√ó |
| TX con 1000mAh | 1.02M | 0.39M | 2.6√ó |

**Estimaci√≥n de Rango (SF10, 125kHz):**
| RSSI (dBm) | Rango t√≠pico |
|------------|--------------|
| > -80 | < 100m (excelente) |
| -80 a -100 | 100-500m (bueno) |
| -100 a -110 | 500m-1km (aceptable) |
| -110 a -120 | 1-3km (l√≠mite) |

## üì¶ Instalaci√≥n

### Arduino / PlatformIO

Descarga este repositorio como ZIP e imp√≥rtalo en Arduino IDE (`Sketch -> Include Library -> Add .ZIP Library`), o copia `phase4-hardware/arduino` a tu carpeta `libraries`.

### Javascript (NPM)

```bash
cd phase3-integration
npm install
import { Aeon } from './aeon.js';
```

### Python

```bash
cd phase1-foundations/python
pip install .
```

### Demo TinyLM

```bash
cd phase7-language
python server.py
# Abrir http://localhost:5001
```

### Tests Automatizados (Core C)

```bash
cd phase2-core
make test
# Ejecuta suite de validaci√≥n: Inicializaci√≥n, Memoria, Aprendizaje
```

## üî¨ Resultados

- **ESN Python**: MSE 0.0004 en Mackey-Glass
- **ESN C**: MSE 0.009 con punto fijo Q8.8
- **TinyLMv2**: 99.9% accuracy, tokenizaci√≥n word-level con **>50% reducci√≥n de memoria** (Trie)
- **Mente Colectiva**: Protocolo P2P funcional en ESP32 con compresi√≥n **17x** (1-Bit)
- **Consistencia**: "Spirit Hash" √∫nico (16 bytes) id√©ntico en Python, C y JS
- **Robustez**: Core C verificado con suite de pruebas unitarias
- **E√≥n Bio**: Detecci√≥n de arritmias con <2KB RAM
- **E√≥n Voice**: Detecci√≥n de palabras clave ("E√ìN") en Cortex-M4
- **E√≥n Dream**: Arte generativo neuronal en web
- **Chat Avanzado**: 20+ categor√≠as de intenci√≥n + memoria personal + predicci√≥n de secuencias
- **Predicci√≥n de Patrones**: Aritm√©tico, geom√©trico, Fibonacci, potencias (100% precisi√≥n)
- **Base de Conocimiento**: Definiciones t√©cnicas integradas (entrop√≠a, ESN, Spirit Hash, etc.)
- **Generaci√≥n de Im√°genes**: 5 estilos (fractal, flow, particles, waves, neural) + 12 paletas
- **Aprendizaje Continuo**: Online Learning con feedback en tiempo real
- **Memoria a Largo Plazo**: Almacenamiento de usuarios, hechos y estad√≠sticas
- **Cuantizaci√≥n 8-bit**: 99.6% precisi√≥n retenida con 8x compresi√≥n

## üìö Documentaci√≥n

| Documento | Descripci√≥n |
|-----------|-------------|
| [WHITEPAPER.md](docs/WHITEPAPER.md) | Paper t√©cnico completo |
| [architecture.md](docs/architecture.md) | Arquitectura del sistema |
| [benchmarks.md](docs/benchmarks.md) | An√°lisis de energ√≠a y rendimiento |
| [protocol_1bit.yaml](docs/api/protocol_1bit.yaml) | üÜï Especificaci√≥n OpenAPI 3.1 |
| [CONTRIBUTING.md](CONTRIBUTING.md) | Gu√≠a para contribuir |
| [CHANGELOG.md](CHANGELOG.md) | Historial de cambios |
| [paper/main.pdf](paper/main.pdf) | üÜï Paper acad√©mico PDF (3 p√°ginas) |
| [Fase 4 README](phase4-hardware/README.md) | Hardware ESP32/LoRa |
| [Fase 5 README](phase5-applications/README.md) | Detalles Bio/Voice |

## üß† Sistema de Aprendizaje Continuo

E√≥n implementa un sistema de aprendizaje continuo inspirado en la neurociencia:

### Componentes

1. **OnlineLearner**: Actualizaci√≥n en tiempo real de W_out usando Recursive Ridge Regression
2. **LongTermMemory**: Almacenamiento persistente de usuarios, hechos, estad√≠sticas
3. **FeedbackSystem**: Mejora basada en retroalimentaci√≥n üëç/üëé
4. **ConsolidationEngine**: Optimizaci√≥n durante per√≠odos de inactividad ("sue√±o")

### Flujo de Aprendizaje

```
Interacci√≥n ‚Üí OnlineLearner ‚Üí Feedback ‚Üí LongTermMemory ‚Üí Consolidaci√≥n
     ‚Üë                                           ‚Üì
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Mejora Continua ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Datos Almacenados

- **Usuarios conocidos**: Nombres, roles, informaci√≥n personal
- **Hechos aprendidos**: Preferencias, conocimiento espec√≠fico
- **Patrones exitosos**: Asociados con feedback positivo
- **Estad√≠sticas**: Eventos de aprendizaje, consolidaciones, ratio de √©xito

## üê≥ Docker Services

| Servicio | Puerto | Descripci√≥n |
|----------|--------|-------------|
| `mqtt` | 1883, 9001 | Eclipse Mosquitto MQTT broker |
| `ws-bridge` | 8765 | WebSocket-MQTT bridge |
| `web` | 5000 | Flask Dashboard principal |
| `tinylm` | 5001 | TinyLM Language Model server |
| `collective-mind` | - | Simulaci√≥n distribuida |
| `core-builder` | - | Build C library (profile: build) |

## üß™ Tests

```bash
# Ejecutar tests del WebSocket bridge
cd "E√≥n Project AI"
pip install pytest pytest-asyncio
python -m pytest phase6-collective/tests/ -v

# Resultado: 19 tests passing
```

## üóìÔ∏è Roadmap

- [x] Fase 1-3: Fundamentos (Python, C, JS) + **Dream**
- [x] Fase 4: Hardware (Arduino, ESP32) + LoRa + Energ√≠a
- [x] Fase 5: Aplicaciones IoT + **Bio** + **Voice**
- [x] Fase 6: Mente Colectiva + MQTT real + WebSocket
- [x] Fase 7: TinyLM (Language Model)
- [x] Fase 8: Paper acad√©mico compilado (PDF)
- [x] Fase 9: Empaquetado + Docker Compose
- [x] Fase 10: Tests + OpenAPI + Demo Script
- [ ] Fase 11: Experimentaci√≥n Abierta (Futuro)

## üìà Benchmarks de Energ√≠a

Resultados recientes (Ver [docs/benchmarks.md](docs/benchmarks.md)):

| Motor         | Energ√≠a / Ciclo (Cortex-M4) |
| :------------ | :-------------------------- |
| **E√≥n Motor** | **0.0045 ŒºJ**               |
| TinyML MLP    | 0.0015 ŒºJ                   |

El motor E√≥n es 3x m√°s costoso computacionalmente que una red est√°tica simple, pero ofrece memoria temporal din√°mica. A√∫n as√≠, es **extremadamente eficiente** para operaci√≥n con bater√≠as de reloj.

## üìú Licencia

MIT License - 2024 [Sistemas Ursol](https://github.com/SistemasUrsol)

Desarrollado por [Jeremy Arias Solano](https://github.com/jeremy-sud)

---

**"La Nada es Todo"** - El reservoir aleatorio contiene toda la computaci√≥n necesaria.
